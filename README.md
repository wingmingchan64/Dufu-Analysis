<h1>杜甫詩分析、資料庫</h1>

<p>這裏提供的主要是 PHP 程式。這些程式分五大類：</p>
<ul>
<li>關於杜詩的各種統計數字</li>
<li>包含各種原始資料的陣列；這部分其實是個小型的資料庫</li>
<li>生成這個資料庫的程式</li>
<li>展示如何搜索這個資料庫的程式</li>
<li>應用程式，像比較文字、輸入漢字程式等</li>
</ul>
<p>聯係資料庫各個部分的關鍵是一個坐標系統。請從<a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E9%97%9C%E6%96%BC%E5%9D%90%E6%A8%99%E7%9A%84%E8%AA%AA%E6%98%8E.txt">關於坐標的說明</a>開始。</p>
<h2>杜甫詩資料庫</h2>
<p>我原來的打算是把我生成的所有 PHP 程式一個一個上傳到 github，讓 github 去 index 這些資料，以便資料搜尋。可是，最後把我的戶口擠爆了。後來（二三年四月二十八日）改變了主意，決定把資料庫壓縮打包再上傳，這樣，資料庫就變得小多了，從 33.7MB 縮成 3.75MB，上傳就沒有問題了，只是犧牲了 github 的搜索功能。壓縮包見 <a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E6%9D%9C%E7%94%AB%E8%B3%87%E6%96%99%E5%BA%AB.rar">杜甫資料庫.rar</a> （這個文檔會不斷更新。）
<p><a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/_%E6%9%9C%E8%A9%A9%E8%B3%87%E6%96%99%E5%BA%AB%E6%96%87%E6%AA%94%E4%B8%80%E8%A6%BD.txt">杜詩資料庫文檔一覽</a></p>
<p><a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/_exec.txt">_exec.txt</a>： 執行這些程式的順序</p>
<p></p>

<h2>生成杜甫詩資料庫的 PHP 程式</h2>
<p><a href="https://github.com/wingmingchan64/Dufu-Analysis/tree/main/analysis_programs">analysis_programs</a></p>
<h2>搜索程式</h2>
<p><a href="https://github.com/wingmingchan64/Dufu-Analysis/tree/main/analysis_programs/%E6%90%9C%E7%B4%A2%E7%A8%8B%E5%BC%8F">搜索程式</a>展示了如何利用坐標、資料庫，找到我們想要的東西。</p>
<ul>
<li>版本詩文：利用某注本中【異文、夾注】的資料，復原這個注本的白文，包括異體字、夾注等。</li>
<li>兩字出現於同一首詩：找尋包含某兩個特定的、不一定相關的字的所有詩</li>
<li>搜索與坐標：從一句詩文開始，搜索某注本中的相關注釋</li>
<li>爲注釋生成坐標：用人手來標記詩文的坐標，很容易出錯。最理想的做法是自動生成坐標。這樣生成的坐標是不會錯的。這裏要嘗試的是生成【注釋】部分的坐標。
</li>
</ul>
<h2>不同的版本</h2>
<p>資料庫中所用的詩文是經過統一化、標準化的（默認版本）。各版本與這個標準版本不同的地方，散見於各詩的【異文、夾注】內。我也寫了一個程式，把相應的、包含異文、夾注的詩文，放在各版本的文件夾內。例如，在「蕭滌非主編《杜甫全集校注》」一文件夾中，可以找到這個版本的詩文，這個版本包含所有的異文，如「却」、「盃」等字。</p>
<ul>
<li>默認版本：<br />
<a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86.txt">杜甫全集</a><br />
這個版本是個以蕭滌非主編之《杜甫全集校注》爲底本，去掉夾注、簡體字、錯字、大部分的異體字以後所生成的乾淨版本。所有版本比較，均以此版本爲對比標準。<br />
按：默認版本包含《杜鵑行》（君不見）。
</li>
<li>蕭滌非主編《杜甫全集校注》（完成一校）：<br />
<a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E8%95%AD%E6%BB%8C%E9%9D%9E%E4%B8%BB%E7%B7%A8%E3%80%8A%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86%E6%A0%A1%E6%B3%A8%E3%80%8B/%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86.txt">杜甫全集</a><br />
<a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E8%95%AD%E6%BB%8C%E9%9D%9E%E4%B8%BB%E7%B7%A8%E3%80%8A%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86%E6%A0%A1%E6%B3%A8%E3%80%8B/%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86%E7%84%A1%E5%A4%BE%E6%B3%A8.txt">杜甫全集無夾注</a><br />
按：《杜鵑行》（君不見）此版本缺。
</li>
<li>《全唐詩》（在生成中）：<br />
<a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E3%80%8A%E5%85%A8%E5%94%90%E8%A9%A9%E3%80%8B/%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86.txt">杜甫全集</a><br />
<a href="https://github.com/wingmingchan64/Dufu-Analysis/blob/main/%E3%80%8A%E5%85%A8%E5%94%90%E8%A9%A9%E3%80%8B/%E6%9D%9C%E7%94%AB%E5%85%A8%E9%9B%86%E7%84%A1%E5%A4%BE%E6%B3%A8.txt">杜甫全集無夾注</a>
</li>
</ul>
<h2>爲甚麽要加入各種注本？</h2>
<ul>
<li>我打算在我的資料庫中加入一些宋、清的杜詩注本</li>
<li>這些注本其實在網上都能找到</li>
<li>我的目的不是提供注本的原始資料，而是加了標記（坐標）的、有利於搜索的資料</li>
<li>舉個例子：我可以寫一個簡單的程式，以列出關於杜詩中某首、某句詩，甚至某個詞組的注釋、大意、翻譯、評論，同時并列我感興趣的注家的資料，比如同時列出《杜詩詳註》、《讀杜心解》關於某詩的資料</li>
<li>我也可以同時列出某首詩的不同版本</li>
<li>網上提供的絕不是這些有選擇性的、有目的性的資料</li>
</ul>
<p>例子：列出《杜詩詳註》及《讀杜心解》關於《望嶽》一詩的評論</p>
<pre>
// php h:\github\Dufu-Analysis\analysis_programs\搜索程式\搜索詩文評論.php 0003 仇,浦
foreach( $簡稱s as $簡稱 )
{
	if( array_key_exists( "=${簡稱}", $書目簡稱 ) &&
		file_exists( 杜甫資料庫 . $書目簡稱[ "=${簡稱}" ] . "\\" . $頁碼 . ".php" )
	)
	{
		require_once( 杜甫資料庫 . $書目簡稱[ "=${簡稱}" ] . "\\" . $頁碼 . ".php" );
		$陣列名 = "${簡稱}内容";
		$result[ $簡稱 ] = $$陣列名[ "評論" ];
	}
		
}
print_r( $result );
</pre>
<p>結果：</p>
<pre>
[仇] => 盧世㴶曰。公初登東嶽。似稍緊窄。然而曠甚。後望南嶽。似稍錯雜。然而肅甚。固不必登峯造極。而兩嶽真形已落其眼底。及觀又登後園山脚云。昔我遊山東。憶戲東嶽陽。窮秋立日觀。矯首望八荒。則是業升岱宗之巔。而流覽無際矣。乃絶不另設專題以鋪張遊槩。亦以望嶽一首已領其要。故不必再拈也。試思他人千萬語。有加於齊魯青未了者乎。少陵以前題咏泰山者。有謝靈運。李白之詩。謝詩八句。上半古秀。而下却平淺。李詩六章。中有佳句。而意多重複。此詩道勁峭刻。可以俯視兩家矣。龍門及此章。格似五律。但句中平仄未諧。蓋古詩之對偶者。 而其氣骨崢嶸。體勢雄渾。能直駕齊梁以上。
[浦] => 公望嶽詩凡三首，此望東嶽也。越境連綿，蒼峯不斷，寫嶽勢只「青未了」三字，勝人千百矣。「鍾神秀」， 在嶽勢前推出；「割昏曉」，就嶽勢上顯出。「盪胸」、「決眥」，明逗「望」字。末聯則以將來之凌眺，剔現在之遙觀，是透過一層收也。仇氏詳註以遠望、近望、細望、極望，分配四聯，未見清楚。◯杜子心胸氣魄，於斯可觀。取爲壓卷，屹然作鎭。豈惟鐫剋年月云爾。
</pre>

<h2>未來的計劃</h2>
<ul>
<li>完成《杜甫全集粵音注音》</li>
<li>把杜詩用字與各字的讀音（粵音）、注釋聯係起來，把<a href="https://github.com/wingmingchan64/Dufu-Analysis/tree/main/%E7%94%A8%E5%AD%97">用字</a>變成一本杜詩字典</li>
<li>還要細讀杜詩，并且繼續擴充《杜甫全集校注》、《杜甫詩全譯》、《杜詩全集（今注本）》的部分</li>
<li>繼續看莫礪鋒、徐仁甫等學者的論著</li>
<li>行有餘力的話，加入宋、清的注本（現在正努力輸入浦起龍的《讀杜心解》）</li>
<li>看看杜甫年譜、傳記</li>
</ul>